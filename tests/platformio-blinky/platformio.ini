; PIO-Air105 â€” PlatformIO + Arduino Test Sample
; ==============================================
; This is a minimal "blinky + serial" test that validates the Arduino
; compatibility layer compiles and runs on real Air105 hardware.
;
; It references the PIO-Air105 framework directly from the repo root
; so you can iterate on the framework and test without publishing
; anything to the PlatformIO registry first.
;
; Usage:
;   pio run                    # Build only
;   pio run -t upload          # Build and upload
;   pio device monitor         # Serial monitor
;
; Make sure to set upload_port to your COM port (e.g., COM3)

[env:air105_core]
; --- Platform -----------------------------------------------------------
; Use generic ARM platform without framework (we supply our own Arduino core)
platform = ststm32
board = genericSTM32F407VGT6           ; Placeholder - we override everything

; --- Extra script -------------------------------------------------------
; Our custom script configures all paths, sources, and upload
extra_scripts = 
    pre:extra_script.py

; --- Upload -------------------------------------------------------------
; Set this to your actual COM port (e.g., COM3, COM4, etc.)
upload_port = COM9
upload_speed = 115200

; --- Monitor ------------------------------------------------------------
monitor_port = ${env:air105_core.upload_port}
monitor_speed = 115200
